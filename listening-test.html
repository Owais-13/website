<!DOCTYPE html>
<html lang="en">
<head>
    <title>IELTS Listening Test - Practice with Audio</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    
    <link href="https://fonts.googleapis.com/css?family=Nunito+Sans:300,400,600,700,800,900&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="css/open-iconic-bootstrap.min.css">
    <link rel="stylesheet" href="css/animate.css">
    <link rel="stylesheet" href="css/owl.carousel.min.css">
    <link rel="stylesheet" href="css/owl.theme.default.min.css">
    <link rel="stylesheet" href="css/magnific-popup.css">
    <link rel="stylesheet" href="css/aos.css">
    <link rel="stylesheet" href="css/ionicons.min.css">
    <link rel="stylesheet" href="css/flaticon.css">
    <link rel="stylesheet" href="css/icomoon.css">
    <link rel="stylesheet" href="css/style.css">
    
    <style>
        .test-container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .audio-player {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 10px;
            margin-bottom: 30px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .custom-audio-player {
            width: 100%;
            margin: 20px 0;
        }
        
        .audio-controls {
            margin-top: 20px;
        }
        
        .audio-controls button {
            margin: 0 10px;
            padding: 10px 20px;
        }
        
        .play-count {
            background: #ffc107;
            color: #000;
            padding: 5px 15px;
            border-radius: 20px;
            display: inline-block;
            margin-top: 15px;
            font-weight: bold;
        }
        
        .timer {
            position: fixed;
            top: 100px;
            right: 20px;
            background: #007bff;
            color: white;
            padding: 15px 25px;
            border-radius: 5px;
            font-size: 20px;
            font-weight: bold;
            z-index: 1000;
        }
        
        .question-section {
            background: white;
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .question-section h4 {
            color: #007bff;
            margin-bottom: 20px;
        }
        
        .question-item {
            margin-bottom: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 5px;
        }
        
        .question-item input[type="text"],
        .question-item select {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 16px;
        }
        
        .question-item input[type="radio"] {
            margin-right: 10px;
        }
        
        .answer-options {
            margin-top: 10px;
        }
        
        .answer-options label {
            display: block;
            margin-bottom: 10px;
            cursor: pointer;
            padding: 10px;
            background: white;
            border-radius: 4px;
            transition: background 0.3s;
        }
        
        .answer-options label:hover {
            background: #e9ecef;
        }
        
        .section-instructions {
            background: #e3f2fd;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 25px;
            border-left: 4px solid #2196f3;
        }
        
        .progress {
            height: 30px;
            margin-bottom: 30px;
        }
        
        .progress-bar {
            font-size: 14px;
            line-height: 30px;
        }
        
        .test-controls {
            text-align: center;
            margin-top: 40px;
        }
        
        .test-controls button {
            margin: 0 10px;
            padding: 10px 30px;
        }
        
        .results-section {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 10px;
            margin-top: 30px;
            display: none;
        }
        
        .score-display {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .score-display h2 {
            color: #28a745;
            font-size: 48px;
            margin-bottom: 10px;
        }
        
        .answer-review {
            margin-top: 30px;
        }
        
        .answer-review-item {
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 5px;
        }
        
        .answer-review-item.correct {
            background: #d4edda;
            border: 1px solid #c3e6cb;
        }
        
        .answer-review-item.incorrect {
            background: #f8d7da;
            border: 1px solid #f5c6cb;
        }
        
        .loading-spinner {
            display: none;
            text-align: center;
            padding: 50px;
        }
        
        .loading-spinner i {
            font-size: 50px;
            color: #007bff;
        }
        
        .audio-transcript {
            display: none;
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
            max-height: 300px;
            overflow-y: auto;
        }
        
        .transcript-toggle {
            margin-top: 10px;
        }
        
        @media (max-width: 768px) {
            .timer {
                top: 70px;
                right: 10px;
                padding: 10px 15px;
                font-size: 16px;
            }
        }
    </style>
</head>
<body>
    <div class="bg-top navbar-light">
        <div class="container">
            <div class="row no-gutters d-flex align-items-center align-items-stretch">
                <div class="col-md-4 d-flex align-items-center py-4">
                    <a class="navbar-brand" href="index.html">VisaFluent</a>
                </div>
                <div class="col-lg-8 d-block">
                    <div class="row d-flex">
                        <div class="col-md d-flex topper align-items-center align-items-stretch py-md-4">
                            <div class="icon d-flex justify-content-center align-items-center"><span class="icon-paper-plane"></span></div>
                            <div class="text">
                                <span>Email</span>
                                <span>info@ieltsmaster.com</span>
                            </div>
                        </div>
                        <div class="col-md d-flex topper align-items-center align-items-stretch py-md-4">
                            <div class="icon d-flex justify-content-center align-items-center"><span class="icon-phone2"></span></div>
                            <div class="text">
                                <span>Call</span>
                                <span>Call Us: + 1235 2355 98</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark ftco-navbar-light" id="ftco-navbar">
        <div class="container d-flex align-items-center px-4">
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#ftco-nav">
                <span class="oi oi-menu"></span> Menu
            </button>
            <div class="collapse navbar-collapse" id="ftco-nav">
                <ul class="navbar-nav mr-auto">
                    <li class="nav-item"><a href="index.html" class="nav-link pl-0">Home</a></li>
                    <li class="nav-item"><a href="about.html" class="nav-link">About</a></li>
                    <li class="nav-item"><a href="courses.html" class="nav-link">Courses</a></li>
                    <li class="nav-item active"><a href="practice.html" class="nav-link">Practice</a></li>
                    <li class="nav-item"><a href="contact.html" class="nav-link">Contact</a></li>
                </ul>
            </div>
        </div>
    </nav>
    
    <section class="hero-wrap hero-wrap-2" style="background-image: url('images/bg_1.jpg');">
        <div class="overlay"></div>
        <div class="container">
            <div class="row no-gutters slider-text align-items-center justify-content-center">
                <div class="col-md-9 ftco-animate text-center">
                    <h1 class="mb-2 bread">IELTS Listening Test</h1>
                    <p class="breadcrumbs">
                        <span class="mr-2"><a href="index.html">Home <i class="ion-ios-arrow-forward"></i></a></span>
                        <span class="mr-2"><a href="practice.html">Practice <i class="ion-ios-arrow-forward"></i></a></span>
                        <span>Listening Test <i class="ion-ios-arrow-forward"></i></span>
                    </p>
                </div>
            </div>
        </div>
    </section>
    
    <div class="timer" id="timer" style="display: none;">30:00</div>
    
    <section class="ftco-section">
        <div class="container">
            <div class="test-container">
                <h2 class="text-center mb-5">IELTS Listening Practice Test</h2>
                
                <!-- Test Selection -->
                <div id="test-selection">
                    <div class="row">
                        <div class="col-md-6">
                            <h4>Select Test Level:</h4>
                            <select class="form-control mb-3" id="test-level">
                                <option value="beginner">Beginner (Band 4-5)</option>
                                <option value="intermediate" selected>Intermediate (Band 5.5-6.5)</option>
                                <option value="advanced">Advanced (Band 7-9)</option>
                            </select>
                        </div>
                        <div class="col-md-6">
                            <h4>Select Test Type:</h4>
                            <select class="form-control mb-3" id="test-type">
                                <option value="full">Full Test (4 Sections)</option>
                                <option value="section1">Section 1 Only</option>
                                <option value="section2">Section 2 Only</option>
                                <option value="section3">Section 3 Only</option>
                                <option value="section4">Section 4 Only</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="text-center mt-4">
                        <button class="btn btn-primary btn-lg" onclick="startListeningTest()">
                            <i class="icon-headphones"></i> Start Listening Test
                        </button>
                    </div>
                    
                    <div class="alert alert-info mt-4">
                        <h5><i class="icon-info-circle"></i> Test Information:</h5>
                        <ul class="mb-0">
                            <li>You will hear each recording ONCE only</li>
                            <li>The test takes approximately 30 minutes</li>
                            <li>There are 40 questions in total</li>
                            <li>You have 10 minutes at the end to transfer your answers</li>
                        </ul>
                    </div>
                </div>
                
                <!-- Test Area -->
                <div id="test-area" style="display: none;">
                    <!-- Progress Bar -->
                    <div class="progress">
                        <div class="progress-bar progress-bar-striped progress-bar-animated" 
                             role="progressbar" style="width: 0%" id="progress-bar">
                            Section 1 of 4
                        </div>
                    </div>
                    
                    <!-- Audio Player -->
                    <div class="audio-player">
                        <h3 id="section-title">Section 1</h3>
                        <p id="section-description">A conversation between two people in an everyday context</p>
                        
                        <audio id="audio-player" class="custom-audio-player" controls controlsList="nodownload">
                            <source id="audio-source" src="" type="audio/mpeg">
                            Your browser does not support the audio element.
                        </audio>
                        
                        <div class="play-count" id="play-count">
                            Plays remaining: 1
                        </div>
                        
                        <div class="audio-controls">
                            <button class="btn btn-warning" onclick="replayAudio()" id="replay-btn" disabled>
                                <i class="icon-refresh"></i> Replay (0 left)
                            </button>
                            <button class="btn btn-info transcript-toggle" onclick="toggleTranscript()">
                                <i class="icon-file-text"></i> Show Transcript
                            </button>
                        </div>
                        
                        <div class="audio-transcript" id="audio-transcript">
                            <h5>Transcript:</h5>
                            <p id="transcript-content">Transcript will appear here after the audio has been played.</p>
                        </div>
                    </div>
                    
                    <!-- Questions Section -->
                    <div id="questions-container">
                        <!-- Section 1 Questions -->
                        <div id="section1-questions" class="question-section" style="display: none;">
                            <div class="section-instructions">
                                <h4>Questions 1-10</h4>
                                <p>Complete the form below. Write NO MORE THAN TWO WORDS AND/OR A NUMBER for each answer.</p>
                            </div>
                            
                            <!-- Questions will be dynamically loaded here -->
                        </div>
                        
                        <!-- More sections... -->
                    </div>
                    
                    <!-- Test Controls -->
                    <div class="test-controls">
                        <button class="btn btn-secondary" onclick="previousSection()" id="prev-button" disabled>
                            <i class="icon-arrow-left"></i> Previous Section
                        </button>
                        <button class="btn btn-primary" onclick="nextSection()" id="next-button">
                            Next Section <i class="icon-arrow-right"></i>
                        </button>
                        <button class="btn btn-success" onclick="finishTest()" id="finish-button" style="display: none;">
                            <i class="icon-check"></i> Finish Test
                        </button>
                    </div>
                </div>
                
                <!-- Loading -->
                <div class="loading-spinner" id="loading-spinner">
                    <i class="icon-spinner icon-spin"></i>
                    <h4 class="mt-3">Loading audio...</h4>
                </div>
                
                <!-- Results Section -->
                <div class="results-section" id="results-section">
                    <div class="score-display">
                        <h2 id="score-display">0/40</h2>
                        <p>Your IELTS Listening Band Score: <strong id="band-score">0</strong></p>
                    </div>
                    
                    <div class="answer-review" id="answer-review">
                        <!-- Answer review will be shown here -->
                    </div>
                    
                    <div class="text-center mt-4">
                        <button class="btn btn-primary" onclick="restartTest()">
                            <i class="icon-refresh"></i> Take Another Test
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <footer class="ftco-footer ftco-bg-dark ftco-section">
        <div class="container">
            <div class="row">
                <div class="col-md-12 text-center">
                    <p>Copyright &copy; 2024 VisaFluent. All rights reserved.</p>
                </div>
            </div>
        </div>
    </footer>
    
    <!-- Scripts -->
    <script src="js/jquery.min.js"></script>
    <script src="js/jquery-migrate-3.0.1.min.js"></script>
    <script src="js/popper.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/jquery.easing.1.3.js"></script>
    <script src="js/jquery.waypoints.min.js"></script>
    <script src="js/jquery.stellar.min.js"></script>
    <script src="js/owl.carousel.min.js"></script>
    <script src="js/jquery.magnific-popup.min.js"></script>
    <script src="js/aos.js"></script>
    <script src="js/jquery.animateNumber.min.js"></script>
    <script src="js/scrollax.min.js"></script>
    <script src="js/main.js"></script>
    <script src="js/audio-config.js"></script>
    
    <script>
        // Test Data with Audio Links
        const testData = {
            beginner: {
                section1: {
                    audioUrl: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3', // Replace with actual IELTS audio
                    // Alternative: Use free IELTS practice audio from British Council or Cambridge
                    // audioUrl: 'https://takeielts.britishcouncil.org/sites/default/files/2018-01/Listening_sample_task_1.mp3',
                    transcript: 'This is a sample transcript. In a real test, this would contain the full conversation transcript.',
                    questions: [
                        {
                            number: 1,
                            type: 'fill',
                            question: 'Customer name: ________',
                            answer: 'John Smith'
                        },
                        {
                            number: 2,
                            type: 'fill',
                            question: 'Phone number: ________',
                            answer: '0123456789'
                        },
                        {
                            number: 3,
                            type: 'multiple',
                            question: 'Type of accommodation:',
                            options: ['A) House', 'B) Flat', 'C) Studio', 'D) Room'],
                            answer: 'B'
                        },
                        // Add more questions...
                    ]
                }
            },
            intermediate: {
                section1: {
                    audioUrl: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3',
                    transcript: 'Intermediate level transcript...',
                    questions: [
                        // Intermediate questions...
                    ]
                }
            },
            advanced: {
                section1: {
                    audioUrl: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3',
                    transcript: 'Advanced level transcript...',
                    questions: [
                        // Advanced questions...
                    ]
                }
            }
        };
        
        // Free IELTS Audio Resources (Examples)
        const audioResources = {
            britishCouncil: {
                sample1: 'https://takeielts.britishcouncil.org/sites/default/files/2018-01/Listening_sample_task_1.mp3',
                sample2: 'https://takeielts.britishcouncil.org/sites/default/files/2018-01/Listening_sample_task_2.mp3'
            },
            ieltsOfficial: {
                // Official IELTS practice materials (require proper licensing)
                practice1: 'path/to/official/audio1.mp3',
                practice2: 'path/to/official/audio2.mp3'
            },
            customAudio: {
                // Your own recorded audio files
                section1: 'audio/listening/section1.mp3',
                section2: 'audio/listening/section2.mp3',
                section3: 'audio/listening/section3.mp3',
                section4: 'audio/listening/section4.mp3'
            }
        };
        
        let currentSection = 0;
        let totalSections = 4;
        let timer;
        let timeRemaining = 1800; // 30 minutes
        let userAnswers = {};
        let currentTest = null;
        let playCount = 1;
        let replayCount = 0;
        
        function startListeningTest() {
            const level = $('#test-level').val();
            const type = $('#test-type').val();
            
            // Load test data
            currentTest = testData[level];
            
            // Setup UI
            $('#test-selection').hide();
            $('#test-area').show();
            $('#timer').show();
            
            // Start timer
            startTimer();
            
            // Load first section
            loadSection(1);
            
            // Setup audio player
            setupAudioPlayer();
        }
        
        function setupAudioPlayer() {
            const audio = document.getElementById('audio-player');
            
            // Track play count
            audio.addEventListener('play', function() {
                if (playCount > 0) {
                    playCount--;
                    updatePlayCount();
                }
            });
            
            // Enable transcript after audio ends
            audio.addEventListener('ended', function() {
                $('.transcript-toggle').prop('disabled', false);
                if (replayCount > 0) {
                    $('#replay-btn').prop('disabled', false);
                }
            });
            
            // Prevent seeking
            audio.addEventListener('seeking', function() {
                if (playCount === 0) {
                    audio.currentTime = 0;
                    alert('You cannot seek through the audio after playing it.');
                }
            });
        }
        
        function loadSection(sectionNumber) {
            currentSection = sectionNumber;
            
            // Update progress
            const progress = (sectionNumber / totalSections) * 100;
            $('#progress-bar').css('width', `${progress}%`);
            $('#progress-bar').text(`Section ${sectionNumber} of ${totalSections}`);
            
            // Update section info
            $('#section-title').text(`Section ${sectionNumber}`);
            const descriptions = [
                'A conversation between two people in an everyday context',
                'A monologue in an everyday context',
                'A conversation between up to four people in an educational context',
                'A monologue on an academic subject'
            ];
            $('#section-description').text(descriptions[sectionNumber - 1]);
            
            // Load audio
            const sectionKey = `section${sectionNumber}`;
            if (currentTest[sectionKey]) {
                $('#audio-source').attr('src', currentTest[sectionKey].audioUrl);
                $('#audio-player')[0].load();
                $('#transcript-content').text(currentTest[sectionKey].transcript);
            }
            
            // Reset play count
            playCount = 1;
            replayCount = 1;
            updatePlayCount();
            
            // Load questions
            loadQuestions(sectionNumber);
            
            // Update navigation
            updateNavigation();
        }
        
        function loadQuestions(sectionNumber) {
            // Clear previous questions
            $('#questions-container').html('');
            
            const sectionDiv = $('<div>', {
                id: `section${sectionNumber}-questions`,
                class: 'question-section'
            });
            
            // Add instructions
            const instructions = $('<div class="section-instructions">');
            instructions.html(`
                <h4>Questions ${(sectionNumber - 1) * 10 + 1}-${sectionNumber * 10}</h4>
                <p>Complete the form below. Write NO MORE THAN TWO WORDS AND/OR A NUMBER for each answer.</p>
            `);
            sectionDiv.append(instructions);
            
            // Add questions (sample questions for demo)
            for (let i = 1; i <= 10; i++) {
                const questionNumber = (sectionNumber - 1) * 10 + i;
                const questionDiv = $('<div class="question-item">');
                
                if (i <= 5) {
                    // Fill in the blank questions
                    questionDiv.html(`
                        <label>Q${questionNumber}: Customer ${getFieldName(i)}: 
                            <input type="text" id="q${questionNumber}" placeholder="Your answer">
                        </label>
                    `);
                } else {
                    // Multiple choice questions
                    questionDiv.html(`
                        <p>Q${questionNumber}: What type of ${getFieldName(i)} was mentioned?</p>
                        <div class="answer-options">
                            <label><input type="radio" name="q${questionNumber}" value="A"> A) Option 1</label>
                            <label><input type="radio" name="q${questionNumber}" value="B"> B) Option 2</label>
                            <label><input type="radio" name="q${questionNumber}" value="C"> C) Option 3</label>
                            <label><input type="radio" name="q${questionNumber}" value="D"> D) Option 4</label>
                        </div>
                    `);
                }
                
                sectionDiv.append(questionDiv);
            }
            
            $('#questions-container').append(sectionDiv);
        }
        
        function getFieldName(index) {
            const fields = ['name', 'address', 'phone number', 'email', 'date', 'service', 'room', 'price', 'time', 'location'];
            return fields[index - 1] || 'information';
        }
        
        function updatePlayCount() {
            $('#play-count').text(`Plays remaining: ${playCount}`);
            $('#replay-btn').text(`Replay (${replayCount} left)`);
            $('#replay-btn').prop('disabled', replayCount === 0 || playCount > 0);
        }
        
        function replayAudio() {
            if (replayCount > 0) {
                replayCount--;
                playCount = 1;
                updatePlayCount();
                $('#audio-player')[0].currentTime = 0;
                $('#audio-player')[0].play();
            }
        }
        
        function toggleTranscript() {
            $('#audio-transcript').toggle();
            const btn = $('.transcript-toggle');
            const isVisible = $('#audio-transcript').is(':visible');
            btn.html(isVisible ? '<i class="icon-file-text"></i> Hide Transcript' : '<i class="icon-file-text"></i> Show Transcript');
        }
        
        function startTimer() {
            timer = setInterval(() => {
                timeRemaining--;
                const minutes = Math.floor(timeRemaining / 60);
                const seconds = timeRemaining % 60;
                $('#timer').text(`${minutes}:${seconds.toString().padStart(2, '0')}`);
                
                if (timeRemaining <= 300) { // 5 minutes warning
                    $('#timer').css('background', '#ff9800');
                }
                
                if (timeRemaining <= 0) {
                    clearInterval(timer);
                    finishTest();
                }
            }, 1000);
        }
        
        function updateNavigation() {
            $('#prev-button').prop('disabled', currentSection === 1);
            $('#next-button').toggle(currentSection < totalSections);
            $('#finish-button').toggle(currentSection === totalSections);
        }
        
        function saveCurrentAnswers() {
            // Save text inputs
            $('input[type="text"]').each(function() {
                const id = $(this).attr('id');
                if (id) {
                    userAnswers[id] = $(this).val();
                }
            });
            
            // Save radio buttons
            $('input[type="radio"]:checked').each(function() {
                const name = $(this).attr('name');
                userAnswers[name] = $(this).val();
            });
        }
        
        function previousSection() {
            saveCurrentAnswers();
            if (currentSection > 1) {
                loadSection(currentSection - 1);
            }
        }
        
        function nextSection() {
            saveCurrentAnswers();
            if (currentSection < totalSections) {
                loadSection(currentSection + 1);
            }
        }
        
        function finishTest() {
            saveCurrentAnswers();
            clearInterval(timer);
            
            // Calculate score
            const score = calculateScore();
            const bandScore = calculateBandScore(score);
            
            // Show results
            $('#test-area').hide();
            $('#timer').hide();
            $('#results-section').show();
            
            $('#score-display').text(`${score}/40`);
            $('#band-score').text(bandScore);
            
            // Show answer review
            showAnswerReview();
        }
        
        function calculateScore() {
            // This is a simplified scoring - in real implementation, 
            // you would check against correct answers
            let correct = 0;
            const totalQuestions = 40;
            
            // Random score for demo
            correct = Math.floor(Math.random() * 20) + 20;
            
            return correct;
        }
        
        function calculateBandScore(correctAnswers) {
            // IELTS Listening band score conversion
            if (correctAnswers >= 39) return 9;
            if (correctAnswers >= 37) return 8.5;
            if (correctAnswers >= 35) return 8;
            if (correctAnswers >= 32) return 7.5;
            if (correctAnswers >= 30) return 7;
            if (correctAnswers >= 26) return 6.5;
            if (correctAnswers >= 23) return 6;
            if (correctAnswers >= 18) return 5.5;
            if (correctAnswers >= 16) return 5;
            if (correctAnswers >= 13) return 4.5;
            if (correctAnswers >= 10) return 4;
            return 3.5;
        }
        
        function showAnswerReview() {
            const reviewHtml = `
                <h4>Answer Review</h4>
                <p>Here's a summary of your performance:</p>
                <div class="answer-review-item correct">
                    <strong>Section 1:</strong> 8/10 correct
                </div>
                <div class="answer-review-item correct">
                    <strong>Section 2:</strong> 7/10 correct
                </div>
                <div class="answer-review-item incorrect">
                    <strong>Section 3:</strong> 5/10 correct
                </div>
                <div class="answer-review-item correct">
                    <strong>Section 4:</strong> 6/10 correct
                </div>
            `;
            $('#answer-review').html(reviewHtml);
        }
        
        function restartTest() {
            // Reset everything
            currentSection = 0;
            timeRemaining = 1800;
            userAnswers = {};
            currentTest = null;
            playCount = 1;
            replayCount = 0;
            
            // Reset UI
            $('#test-selection').show();
            $('#test-area').hide();
            $('#results-section').hide();
            $('#timer').hide().css('background', '#007bff');
            $('#audio-transcript').hide();
            
            // Clear audio
            $('#audio-player')[0].pause();
            $('#audio-source').attr('src', '');
        }
    </script>
</body>
</html>